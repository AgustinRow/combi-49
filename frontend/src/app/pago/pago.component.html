<div class="modal__container">
    <button type="button" class="button--transparent button--close" (click)="close()">
        <svg class="nc-icon glyph" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
            y="0px" width="32px" height="32px" viewBox="0 0 32 32">
            <g>
                <path fill="#00000000"
                    d="M1.293,15.293L11,5.586L12.414,7l-8,8H31v2H4.414l8,8L11,26.414l-9.707-9.707 C0.902,16.316,0.902,15.684,1.293,15.293z">
                </path>
            </g>
        </svg>
        <span class="visuallyhidden">Return to Product Page</span>
    </button>
    <div class="modal__content">
        <h2>Tus detalles para el pago</h2>

        <form>
            <ul class="form-list">
                <li class="form-list__row">
                    <label>Nombre</label>
                    <input type="text" name=""  required />
                </li>
                <li class="form-list__row">
                    <label>Numero de tarjeta</label>
                    <div id="input--cc" class="creditcard-icon">
                        <input type="text" name="cc_number"  required />
                    </div>
                </li>
                <li class="form-list__row form-list__row--inline">
                    <div>
                        <label>Fecha de expiracion</label>
                        <div class="form-list__input-inline">
                            <input type="text" name="cc_month" placeholder="MM" pattern="\\d*" minlength="2"
                                maxlength="2"  required />
                            <input type="text" name="cc_year" placeholder="AA" pattern="\\d*" minlength="2"
                                maxlength="2"  required />
                        </div>
                    </div>
                    <div>
                        <label>
                            CVC

                            <a href="#cvv-modal" class="button--transparent modal-open button--info">
                                <svg class="nc-icon glyph" xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px"
                                    height="16px" viewBox="0 0 16 16">
                                    <g>
                                        <path fill="#35a4fb"
                                            d="M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,13c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1s1,0.4,1,1 C9,12.6,8.6,13,8,13z M9.5,8.4C9,8.7,9,8.8,9,9v1H7V9c0-1.3,0.8-1.9,1.4-2.3C8.9,6.4,9,6.3,9,6c0-0.6-0.4-1-1-1 C7.6,5,7.3,5.2,7.1,5.5L6.6,6.4l-1.7-1l0.5-0.9C5.9,3.6,6.9,3,8,3c1.7,0,3,1.3,3,3C11,7.4,10.1,8,9.5,8.4z">
                                        </path>
                                    </g>
                                </svg>
                                <span class="visuallyhidden">Â¿Que es CVV?</span>
                            </a>
                        </label>
                        <input type="text" name="cc_cvc" placeholder="123" pattern="\\d*" minlength="3" maxlength="4"
                             required />
                    </div>
                </li>
                <li class="form-list__row form-list__row--agree">
                    <label>
                        <input type="checkbox" name="save_cc" checked="checked">
                        Guardar los datos de mi tarjeta para futuras compras
                    </label>
                </li>
                <li>
                    <button type="submit" class="button" (click)="payment()">Pagar ahora</button>
                </li>
            </ul>
        </form>
    </div> <!-- END: .modal__content -->
</div> <!-- END: .modal__container -->

<script>
    (function (modules) { // webpackBootstrap
        // The module cache
        var installedModules = {};

        // The require function
        function __webpack_require__(moduleId) {

            // Check if module is in cache
            if (installedModules[moduleId])
                return installedModules[moduleId].exports;

            // Create a new module (and put it into the cache)
            var module = installedModules[moduleId] = {
                exports: {},
                id: moduleId,
                loaded: false
                /******/
            };

            // Execute the module function
            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

            // Flag the module as loaded
            module.loaded = true;

            // Return the exports of the module
            return module.exports;
            /******/
        }


        // expose the modules object (__webpack_modules__)
        __webpack_require__.m = modules;

        // expose the module cache
        __webpack_require__.c = installedModules;

        // __webpack_public_path__
        __webpack_require__.p = "/scripts/dist/";

        // Load entry module and return exports
        return __webpack_require__(0);
        /******/
    })
/************************************************************************/
/******/([
/* 0 */
/***/ function (module, exports, __webpack_require__) {

            __webpack_require__(1);

        },
/* 1 */
/***/ function (module, exports, __webpack_require__) {

            'use strict';

            var _creditCardType = __webpack_require__(2);

            var _creditCardType2 = _interopRequireDefault(_creditCardType);

            function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

            $(document).on('input change', '#input--cc input', function () {
                var ccNum = $(this).val();
                var ccType = (0, _creditCardType2.default)(ccNum);

                if (!ccNum.length || typeof ccType === "undefined" || !ccType.length) {
                    $('#input--cc').removeClass().addClass('creditcard-icon');
                    return;
                }

                var creditcardType = ccType[0].type;

                var ccTypes = {
                    'american-express': 'AE',
                    'master-card': 'MC',
                    'visa': 'VI',
                    'discover': 'DI'
                };

                $('#input--cc').removeClass().addClass('creditcard-icon').addClass('creditcard-icon--' + creditcardType); //set creditcard icon

                // select creditcard type
                $(".creditcard-type > select").val(ccTypes[creditcardType]);
                // set the creditcard type <select> to the value entered
            });

            /***/
        },
/* 2 */
/***/ function (module, exports) {

            'use strict';

            var types = {};
            var VISA = 'visa';
            var MASTERCARD = 'master-card';
            var AMERICAN_EXPRESS = 'american-express';
            var DINERS_CLUB = 'diners-club';
            var DISCOVER = 'discover';
            var JCB = 'jcb';
            var UNIONPAY = 'unionpay';
            var MAESTRO = 'maestro';
            var CVV = 'CVV';
            var CID = 'CID';
            var CVC = 'CVC';
            var CVN = 'CVN';
            var testOrder = [
                VISA,
                MASTERCARD,
                AMERICAN_EXPRESS,
                DINERS_CLUB,
                DISCOVER,
                JCB,
                UNIONPAY,
                MAESTRO
            ];

            function clone(x) {
                var prefixPattern, exactPattern, dupe;

                if (!x) { return null; }

                prefixPattern = x.prefixPattern.source;
                exactPattern = x.exactPattern.source;
                dupe = JSON.parse(JSON.stringify(x));
                dupe.prefixPattern = prefixPattern;
                dupe.exactPattern = exactPattern;

                return dupe;
            }

            types[VISA] = {
                niceType: 'Visa',
                type: VISA,
                prefixPattern: /^4$/,
                exactPattern: /^4\d*$/,
                gaps: [4, 8, 12],
                lengths: [16],
                code: {
                    name: CVV,
                    size: 3
                }
            };

            types[MASTERCARD] = {
                niceType: 'MasterCard',
                type: MASTERCARD,
                prefixPattern: /^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,
                exactPattern: /^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,
                gaps: [4, 8, 12],
                lengths: [16],
                code: {
                    name: CVC,
                    size: 3
                }
            };

            types[AMERICAN_EXPRESS] = {
                niceType: 'American Express',
                type: AMERICAN_EXPRESS,
                prefixPattern: /^(3|34|37)$/,
                exactPattern: /^3[47]\d*$/,
                isAmex: true,
                gaps: [4, 10],
                lengths: [15],
                code: {
                    name: CID,
                    size: 4
                }
            };

            types[DINERS_CLUB] = {
                niceType: 'Diners Club',
                type: DINERS_CLUB,
                prefixPattern: /^(3|3[0689]|30[0-5])$/,
                exactPattern: /^3(0[0-5]|[689])\d*$/,
                gaps: [4, 10],
                lengths: [14],
                code: {
                    name: CVV,
                    size: 3
                }
            };

            types[DISCOVER] = {
                niceType: 'Discover',
                type: DISCOVER,
                prefixPattern: /^(6|60|601|6011|65|64|64[4-9])$/,
                exactPattern: /^(6011|65|64[4-9])\d*$/,
                gaps: [4, 8, 12],
                lengths: [16, 19],
                code: {
                    name: CID,
                    size: 3
                }
            };

            types[JCB] = {
                niceType: 'JCB',
                type: JCB,
                prefixPattern: /^(2|21|213|2131|1|18|180|1800|3|35)$/,
                exactPattern: /^(2131|1800|35)\d*$/,
                gaps: [4, 8, 12],
                lengths: [16],
                code: {
                    name: CVV,
                    size: 3
                }
            };

            types[UNIONPAY] = {
                niceType: 'UnionPay',
                type: UNIONPAY,
                prefixPattern: /^(6|62)$/,
                exactPattern: /^62\d*$/,
                gaps: [4, 8, 12],
                lengths: [16, 17, 18, 19],
                code: {
                    name: CVN,
                    size: 3
                }
            };

            types[MAESTRO] = {
                niceType: 'Maestro',
                type: MAESTRO,
                prefixPattern: /^(5|5[06-9]|6\d*)$/,
                exactPattern: /^5[06-9]\d*$/,
                gaps: [4, 8, 12],
                lengths: [12, 13, 14, 15, 16, 17, 18, 19],
                code: {
                    name: CVC,
                    size: 3
                }
            };

            function creditCardType(cardNumber) {
                var type, value, i;
                var prefixResults = [];
                var exactResults = [];

                if (!(typeof cardNumber === 'string' || cardNumber instanceof String)) {
                    return [];
                }

                for (i = 0; i < testOrder.length; i++) {
                    type = testOrder[i];
                    value = types[type];

                    if (cardNumber.length === 0) {
                        prefixResults.push(clone(value));
                        continue;
                    }

                    if (value.exactPattern.test(cardNumber)) {
                        exactResults.push(clone(value));
                    } else if (value.prefixPattern.test(cardNumber)) {
                        prefixResults.push(clone(value));
                    }
                }

                return exactResults.length ? exactResults : prefixResults;
            }

            creditCardType.getTypeInfo = function (type) {
                return clone(types[type]);
            };

            creditCardType.types = {
                VISA: VISA,
                MASTERCARD: MASTERCARD,
                AMERICAN_EXPRESS: AMERICAN_EXPRESS,
                DINERS_CLUB: DINERS_CLUB,
                DISCOVER: DISCOVER,
                JCB: JCB,
                UNIONPAY: UNIONPAY,
                MAESTRO: MAESTRO
            };

            module.exports = creditCardType;
        }
/******/]);
</script>